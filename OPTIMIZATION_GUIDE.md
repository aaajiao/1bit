# 1-Bit é£æ ¼æ¸¸æˆä¼˜åŒ–å»ºè®®

> **é¡¹ç›®**: Wired Brutalism: Chimera Void  
> **åˆ†ææ—¥æœŸ**: 2025-12-21

---

## ğŸ“Š é¡¹ç›®ç°çŠ¶æ¦‚è¿°

å½“å‰é¡¹ç›®å·²ç»å…·å¤‡äº†ä¸€ä¸ªå®Œæ•´çš„ 1-bit æŠ–åŠ¨æ¸²æŸ“ç³»ç»Ÿï¼š

- **4x4 Bayer æŠ–åŠ¨çŸ©é˜µ** - å°†æ‰€æœ‰é¢œè‰²å‹ç¼©ä¸ºé»‘ç™½äºŒå…ƒ
- **CRT æ‰«æçº¿å åŠ ** - æ¨¡æ‹Ÿè€å¼æ˜¾ç¤ºå™¨æ•ˆæœ
- **ç¨‹åºåŒ–ç”Ÿæˆä¸–ç•Œ** - 4ç§å»ºç­‘é£æ ¼ (TREE/SPIKES/BLOCKS/FLUID)
- **åŠ¨æ€çº¿ç¼†ç³»ç»Ÿ** - å¸¦è„‰å†²åŠ¨ç”»
- **æ‰‹æŒå‘å…‰èŠ±æœµ** - ä½œä¸ºå”¯ä¸€çš„å…‰æºç¬¦å·

---

## ğŸ¨ è§†è§‰ä¼˜åŒ–å»ºè®®

### 1. å¢å¼º 1-Bit æŠ–åŠ¨æ•ˆæœçš„å±‚æ¬¡æ„Ÿ

#### 1.1 åŠ¨æ€æŠ–åŠ¨çŸ©é˜µå°ºå¯¸

```glsl
// å»ºè®®: æ ¹æ®è·ç¦»åˆ‡æ¢ä¸åŒå¤§å°çš„æŠ–åŠ¨çŸ©é˜µ
// è¿‘å¤„ä½¿ç”¨ 8x8 çŸ©é˜µè·å¾—æ›´ç»†è…»çš„è¿‡æ¸¡
// è¿œå¤„ä½¿ç”¨ 2x2 çŸ©é˜µå¼ºè°ƒ1-bitå—çŠ¶æ„Ÿ

float bayer8x8(vec2 uv);  // æ›´ç²¾ç»†çš„æ¸å˜
float bayer2x2(vec2 uv);  // æ›´ç²—ç³™çš„å—çŠ¶æ„Ÿ

// æ ¹æ®æ·±åº¦æ··åˆ
float depth = texture2D(tDepth, vUv).r;
float threshold = mix(bayer8x8(pixelCoord), bayer2x2(pixelCoord), depth);
```

> [!TIP]
> è¿™ä¼šè®©è¿‘å¤„ç‰©ä½“æœ‰æ›´æŸ”å’Œçš„æŠ–åŠ¨ï¼Œè¿œå¤„ç‰©ä½“æ›´åŠ "æ•°å­—åŒ–"ã€æ›´ blockyï¼Œå¢å¼ºç»å…¸ 1-bit çš„å®¡ç¾ã€‚

#### 1.2 æ·»åŠ è“å™ªå£°æŠ–åŠ¨é€‰é¡¹

ç»å…¸ 1-bit æ¸¸æˆï¼ˆå¦‚ Mac æ—¶ä»£çš„æ¸¸æˆï¼‰æœ‰æ—¶ä½¿ç”¨è“å™ªå£°æ¥ä»£æ›¿ Bayer çŸ©é˜µï¼Œäº§ç”Ÿæ›´"è‡ªç„¶"çš„æŠ–åŠ¨ã€‚å¯ä»¥è€ƒè™‘æ·»åŠ ä¸€ä¸ªåˆ‡æ¢é€‰é¡¹ï¼š

```glsl
uniform int ditherMode; // 0: Bayer, 1: BlueNoise, 2: Random

// BlueNoise dithering æ›´æ¥è¿‘ Mac ç»å…¸æ¸¸æˆçš„æ„Ÿè§‰
float blueNoise = texture2D(tBlueNoise, vUv * resolution / 64.0).r;
```

---

### 2. å¼ºåŒ–ç»å…¸ 1-Bit æ¸¸æˆçš„è§†è§‰è¯­è¨€

#### 2.1 æ·»åŠ è¾¹ç¼˜æ£€æµ‹ (Outline) æ•ˆæœ

1-bit ç¾å­¦çš„ä¸€ä¸ªæ ‡å¿—æ€§ç‰¹å¾æ˜¯ **ç²—é»‘è¾¹çº¿** (ç±»ä¼¼æ¼«ç”»/æœ¨åˆ»)ï¼š

```glsl
// Sobel è¾¹ç¼˜æ£€æµ‹åå åŠ é»‘è¾¹
vec4 outlineColor = vec4(0.0);
float edge = sobelEdge(tDiffuse, vUv, resolution);
if (edge > 0.5) {
    finalColor = vec3(0.0); // å¼ºåˆ¶é»‘è¾¹
}
```

> [!IMPORTANT]
> è¿™ä¼šè®©å»ºç­‘å’Œç‰©ä½“çš„è½®å»“æ›´åŠ æ¸…æ™°ï¼Œå¢å¼º 1-bit çš„"ç‰ˆç”»"æ„Ÿã€‚

#### 2.2 Halftone (åŠè‰²è°ƒç½‘ç‚¹) æ¨¡å¼

é™¤äº† Bayer/BlueNoiseï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ª **åœ†ç‚¹åŠè‰²è°ƒ** æ¨¡å¼ï¼Œæ¨¡æ‹ŸæŠ¥çº¸å°åˆ·æ•ˆæœï¼š

```glsl
// Circular halftone pattern
float halftone(vec2 uv, float gray) {
    vec2 cell = floor(uv * 20.0); // ç½‘ç‚¹å¯†åº¦
    vec2 center = (cell + 0.5) / 20.0;
    float dist = distance(uv, center);
    float radius = gray * 0.5; // ç°åº¦æ§åˆ¶åœ†ç‚¹å¤§å°
    return dist < radius ? 1.0 : 0.0;
}
```

---

### 3. å¢å¼º CRT/å¤å¤æ˜¾ç¤ºæ•ˆæœ

#### 3.1 å±å¹•æ›²ç‡ (Barrel Distortion)

```glsl
// æ¡¶å½¢ç•¸å˜æ¨¡æ‹Ÿ CRT å±å¹•æ›²é¢
vec2 barrelDistortion(vec2 uv) {
    vec2 cc = uv - 0.5;
    float dist = dot(cc, cc);
    return uv + cc * dist * 0.1; // ç•¸å˜å¼ºåº¦
}
```

#### 3.2 VHS å™ªç‚¹/ä¿¡å·å¹²æ‰°

æ·»åŠ å¶å°”çš„ **æ°´å¹³æ¡çº¹æ•…éšœ** å’Œ **è‰²å½©åç§»**ï¼š

```css
/* CSS å±‚é¢çš„æ•…éšœæ•ˆæœ */
@keyframes glitch {
    0%, 100% { transform: translate(0); }
    25% { transform: translate(-2px, 0); filter: brightness(1.2); }
    75% { transform: translate(2px, 0); filter: brightness(0.8); }
}

#scanlines::before {
    animation: glitch 0.1s infinite;
}
```

> [!NOTE]
> è€ƒè™‘ç”¨ shader å®ç°æ›´ç²¾ç»†çš„æ•…éšœæ•ˆæœï¼Œä¾‹å¦‚éšæœºçš„æ°´å¹³ä½ç§»å’Œä¿¡å·ä¸¢å¸§ã€‚

---

### 4. æ”¹è¿›å¤©ç©ºä¹‹çœ¼ (Sky Eye)

#### 4.1 æ·»åŠ çœ¨çœ¼åŠ¨ç”»

è®©å¤©ç©ºä¹‹çœ¼å¶å°”"çœ¨çœ¼"ï¼Œå¢åŠ è¯¡å¼‚æ„Ÿï¼š

```javascript
// éšæœºè§¦å‘çœ¨çœ¼
if (Math.random() > 0.999) {
    skyEyeGroup.scale.y = 0.1; // å‹æ‰ = é—­çœ¼
    setTimeout(() => skyEyeGroup.scale.y = 1.0, 100);
}
```

#### 4.2 ç³å­”è¿½è¸ªç©å®¶

```javascript
// ç³å­”å§‹ç»ˆæ³¨è§†ç©å®¶ä½ç½®
const pupil = skyEyeGroup.children[4]; // å‡è®¾ç³å­”æ˜¯æœ€åä¸€ä¸ªå…ƒç´ 
const eyeDir = camera.position.clone().sub(skyEyeGroup.position).normalize();
pupil.position.lerp(eyeDir.multiplyScalar(2), 0.05);
```

---

## ğŸ® æ¸¸æˆæœºåˆ¶ä¼˜åŒ–å»ºè®®

### 1. ç¯å¢ƒäº¤äº’

#### 1.1 èŠ±æœµä¸ç¯å¢ƒçš„å…‰ç…§äº’åŠ¨

ç›®å‰èŠ±æœµæ˜¯å”¯ä¸€æŒç»­å…‰æºï¼Œå¯ä»¥è®©è¿™ä¸ªå…‰æºä¸ç¯å¢ƒäº§ç”Ÿæ›´å¤šäº’åŠ¨ï¼š

- **èŠ±æœµé è¿‘å»ºç­‘æ—¶** â†’ å»ºç­‘å±€éƒ¨å˜äº®
- **èŠ±æœµåœ¨ FLUID å»ºç­‘é™„è¿‘** â†’ æ¶²ä½“åå°„å…‰èŠ’
- **èŠ±æœµåœ¨é»‘æš—åŒºåŸŸ** â†’ å¢åŠ å®‰å…¨åŒºåŸŸçš„æ„Ÿè§‰

```javascript
// æ£€æµ‹èŠ±æœµé™„è¿‘çš„ç‰©ä½“ï¼ŒåŠ¨æ€è°ƒæ•´å…¶æè´¨äº®åº¦
const flowerPos = flower.getWorldPosition(new THREE.Vector3());
scene.traverse(obj => {
    if (obj.isMesh && obj.position.distanceTo(flowerPos) < 5) {
        obj.material.emissiveIntensity = 0.3;
    }
});
```

#### 1.2 æ·»åŠ å£°éŸ³åé¦ˆ

1-bit é£æ ¼æ¸¸æˆï¼ˆå¦‚æ—©æœŸ Mac æ¸¸æˆï¼‰é€šå¸¸æœ‰ **æ ‡å¿—æ€§çš„ 8-bit éŸ³æ•ˆ**ï¼š

- è¡Œèµ°æ—¶çš„è„šæ­¥å£° (èŠ‚å¥åŒ–çš„ç™½å™ªå£°)
- é è¿‘å»ºç­‘æ—¶çš„ä½é¢‘å—¡å—¡å£°
- çº¿ç¼†è„‰å†²çš„ç”µæµå£°
- å¤©ç©ºä¹‹çœ¼çš„"å‡è§†"è­¦å‘ŠéŸ³

> [!TIP]
> ä½¿ç”¨ Web Audio API ç”Ÿæˆç¨‹åºåŒ–éŸ³æ•ˆï¼Œä»¥é…åˆ 1-bit ç¾å­¦ã€‚

---

### 2. æ¢ç´¢ä¸å‘ç°æœºåˆ¶

#### 2.1 éšè—å…ƒç´ 

æ·»åŠ å¯å‘ç°çš„éšè—ç‰©å“æˆ–åŒºåŸŸï¼š

- **å‘å…‰çš„ç¬¦æ–‡** - åªåœ¨ç‰¹å®šè§’åº¦å¯è§
- **éšè—æ´ç©´** - åœ¨ TREE å»ºç­‘æ ¹éƒ¨
- **æ¼‚æµ®çš„å¤è€ç¬¦å·** - åœ¨é«˜ç©ºä¸­æ—‹è½¬

#### 2.2 ç›®æ ‡æ”¶é›†ç³»ç»Ÿ

```javascript
// åœ¨åŒºå—ä¸­éšæœºç”Ÿæˆå¯æ”¶é›†çš„å‘å…‰çƒä½“
if (hash(cx, cz) > 0.95) {
    const collectible = new THREE.Mesh(
        new THREE.DodecahedronGeometry(1),
        new THREE.MeshBasicMaterial({ color: 0xffffff })
    );
    collectible.userData.isCollectible = true;
    chunk.add(collectible);
}
```

---

### 3. èŠ‚å¥ä¸æ°›å›´

#### 3.1 æ˜¼å¤œå¾ªç¯ (1-bit é£æ ¼)

åœ¨ 1-bit ä¸­æ¨¡æ‹Ÿæ˜¼å¤œï¼š

- **æ—¥é—´** â†’ èƒŒæ™¯ç™½è‰²ï¼Œå»ºç­‘é»‘è‰²
- **å¤œé—´** â†’ èƒŒæ™¯é»‘è‰²ï¼Œå»ºç­‘ç™½è‰² (åè½¬!)

```javascript
// æ¯5åˆ†é’Ÿåˆ‡æ¢ä¸€æ¬¡
const dayNightCycle = Math.sin(time * 0.01) > 0;
scene.background.setHex(dayNightCycle ? 0x888888 : 0x111111);
DitherShader.uniforms.invert.value = !dayNightCycle;
```

> [!CAUTION]
> åè½¬æ•ˆæœå¯èƒ½éœ€è¦è°ƒæ•´å…‰ç…§å¼ºåº¦ï¼Œç¡®ä¿å¯è§æ€§ã€‚

#### 3.2 å¤©æ°”ç³»ç»Ÿ

- **é™æ€å™ªç‚¹** - æ¨¡æ‹Ÿç”µå­é›ªèŠ±å¹²æ‰°
- **å‚ç›´çº¿æ¡** - æ¨¡æ‹Ÿ"ä¿¡å·ä¸è‰¯"çš„ä¸‹é›¨æ•ˆæœ
- **æ¸å˜äº®åº¦** - æ¨¡æ‹Ÿäº‘å±‚é®ç›–

---

## ğŸ–¼ï¸ ç»å…¸ 1-Bit å‚è€ƒä¸çµæ„Ÿ

### å†å²å‚è€ƒ

| æ¸¸æˆ/é¡¹ç›® | ç‰¹å¾ |
|----------|------|
| **Obra Dinn** | 4è‰²è°ƒè‰²æ¿ + ç²—ç³™æŠ–åŠ¨ |
| **Classic Mac Games** | è“å™ªå£° + ç²¾ç»†è¾¹ç¼˜ |
| **Pico-8 æ¸¸æˆ** | å¼ºçƒˆçš„åƒç´ è¾¹ç•Œ |
| **é»‘ç™½æ¼«ç”»é£æ ¼** | ç¬”è§¦çº¹ç† + é«˜å¯¹æ¯”åº¦ |

### å»ºè®®çš„è§†è§‰å¢å¼º

```mermaid
graph TD
    A[å½“å‰ 1-bit æ¸²æŸ“] --> B[æ·»åŠ æ·±åº¦æ„ŸçŸ¥æŠ–åŠ¨]
    A --> C[æ·»åŠ è¾¹ç¼˜æ£€æµ‹é»‘çº¿]
    A --> D[æ·»åŠ  CRT æ›²ç‡æ•ˆæœ]
    B --> E[è¿‘ç‰© 8x8 / è¿œç‰© 2x2]
    C --> F[Sobel è½®å»“æå–]
    D --> G[æ¡¶å½¢ç•¸å˜ + è‰²å·®]
```

---

## ğŸš€ ä¼˜å…ˆçº§å»ºè®®

### é«˜ä¼˜å…ˆçº§ (è§†è§‰å†²å‡»åŠ›)

1. **è¾¹ç¼˜æ£€æµ‹è½®å»“çº¿** - å¼ºåŒ– 1-bit ç‰ˆç”»æ„Ÿ
2. **æ·±åº¦æ„ŸçŸ¥æŠ–åŠ¨** - å¢åŠ ç©ºé—´å±‚æ¬¡
3. **å¤©ç©ºä¹‹çœ¼äº’åŠ¨** - å¢åŠ ç¥ç§˜æ°›å›´

### ä¸­ä¼˜å…ˆçº§ (æ°›å›´å¢å¼º)

4. **ç¨‹åºåŒ–éŸ³æ•ˆ** - 8-bit é£æ ¼å£°éŸ³
5. **æ˜¼å¤œå¾ªç¯åè½¬** - åŠ¨æ€è§†è§‰å˜åŒ–
6. **CRT æ›²ç‡æ¨¡æ‹Ÿ** - å¤å¤æ˜¾ç¤ºå™¨æ„Ÿ

### ä½ä¼˜å…ˆçº§ (é•¿æœŸç›®æ ‡)

7. **æ”¶é›†ç³»ç»Ÿ** - æ¢ç´¢åŠ¨æœº
8. **å¤©æ°”ç³»ç»Ÿ** - ç¯å¢ƒå¤šæ ·æ€§
9. **éšè—åŒºåŸŸ** - é‡å¤æ¸¸ç©ä»·å€¼

---

## ğŸ’¡ æŠ€æœ¯å®ç°å¤‡æ³¨

### ç€è‰²å™¨æ‰©å±•å»ºè®®

```glsl
// å®Œæ•´çš„å¢å¼ºå‹ 1-bit ç€è‰²å™¨ç»“æ„
uniform int ditherType;     // 0: Bayer, 1: BlueNoise, 2: Halftone
uniform bool enableOutline;
uniform float barrelAmount;
uniform bool invertColors;

void main() {
    vec2 uv = vUv;
    
    // 1. CRT æ›²ç‡
    if (barrelAmount > 0.0) uv = barrelDistortion(uv);
    
    // 2. é‡‡æ ·é¢œè‰²
    vec4 color = texture2D(tDiffuse, uv);
    float gray = dot(color.rgb, vec3(0.299, 0.587, 0.114));
    
    // 3. è¾¹ç¼˜æ£€æµ‹
    float edge = enableOutline ? sobelEdge(tDiffuse, uv) : 0.0;
    
    // 4. æŠ–åŠ¨
    float threshold = getDitherThreshold(ditherType, gl_FragCoord.xy);
    vec3 result = gray < threshold ? vec3(0.0) : vec3(1.0);
    
    // 5. å åŠ è¾¹ç¼˜ (é»‘)
    if (edge > 0.3) result = vec3(0.0);
    
    // 6. åè½¬ (å¤œé—´æ¨¡å¼)
    if (invertColors) result = vec3(1.0) - result;
    
    gl_FragColor = vec4(result, 1.0);
}
```

---

*ä»¥ä¸Šå»ºè®®æ—¨åœ¨ä¿æŒå¹¶å¼ºåŒ–é¡¹ç›®ç‹¬ç‰¹çš„ 1-bit ç¾å­¦ï¼ŒåŒæ—¶å¢åŠ æ¢ç´¢æ·±åº¦å’Œè§†è§‰å¤šæ ·æ€§ã€‚*
